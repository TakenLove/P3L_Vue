{"remainingRequest":"G:\\SEMESTER6\\P3L\\FrontEnd\\P3L_Vuetify\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\SEMESTER6\\P3L\\FrontEnd\\P3L_Vuetify\\src\\components\\homePageContents\\signDual.vue?vue&type=style&index=0&id=5c5978e0&lang=scss&scoped=true&","dependencies":[{"path":"G:\\SEMESTER6\\P3L\\FrontEnd\\P3L_Vuetify\\src\\components\\homePageContents\\signDual.vue","mtime":1589021736370},{"path":"G:\\SEMESTER6\\P3L\\FrontEnd\\P3L_Vuetify\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\SEMESTER6\\P3L\\FrontEnd\\P3L_Vuetify\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"G:\\SEMESTER6\\P3L\\FrontEnd\\P3L_Vuetify\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"G:\\SEMESTER6\\P3L\\FrontEnd\\P3L_Vuetify\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\SEMESTER6\\P3L\\FrontEnd\\P3L_Vuetify\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"G:\\SEMESTER6\\P3L\\FrontEnd\\P3L_Vuetify\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\SEMESTER6\\P3L\\FrontEnd\\P3L_Vuetify\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnYtYnRuIHsKICB3aWR0aDogMTAwJTsKfQoudi10b29sYmFyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjRDY4OTQ1OwogIGNvbG9yOiB3aGl0ZTsKfQoK"},{"version":3,"sources":["signDual.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+MA;AACA;AACA;AACA;AACA;AACA;AACA","file":"signDual.vue","sourceRoot":"src/components/homePageContents","sourcesContent":["<template>\r\n  <v-app id=\"inspire\">\r\n    <v-content>\r\n      <v-container>\r\n        <v-row\r\n          align=\"center\"\r\n          justify=\"center\"\r\n        >\r\n          <v-col cols=\"12\" sm=\"8\" md=\"4\">\r\n            <v-card class=\"elevation-12\" align=\"center\">\r\n              <v-toolbar>\r\n                <v-toolbar-title align=\"center\">Welcome, to Kouvee Pet Shop!</v-toolbar-title>\r\n              </v-toolbar>\r\n              <v-card-text>\r\n                <v-form>\r\n                  <v-text-field\r\n                    append-icon=\"mdi-account\"\r\n                    label=\"Login\"\r\n                    name=\"login\"\r\n                    type=\"text\"\r\n                    v-model=\"form.username\"\r\n                  />\r\n\r\n                  <v-text-field\r\n                    append-icon=\"mdi-lock\"\r\n                    id=\"password\"\r\n                    label=\"Password\"\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    v-model=\"form.password\"\r\n                  />\r\n                  <v-btn color=\"primary\" @click=\"signIn()\">Login</v-btn>\r\n                </v-form>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-col>\r\n        </v-row>\r\n      <v-snackbar \r\n        v-model=\"snackbar\"\r\n        :color=\"color\" \r\n        :multi-line=\"true\" \r\n        :timeout=\"6000\" \r\n        :top=\"y === 'top'\"> {{ text }} \r\n      <v-btn dark text @click=\"snackbar = false\"> Close </v-btn> \r\n    </v-snackbar> \r\n      </v-container>\r\n    </v-content>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      signUp: false,\r\n      form: {\r\n        username: '',\r\n        password: '',\r\n        \r\n      },\r\n      masuk: false,\r\n      logins: [],\r\n      data: {\r\n        id_pegawai: '',\r\n        role: ''   \r\n      },\r\n      snackbar: false,\r\n      color: null,\r\n      text: '',\r\n      load: false,\r\n      login: new FormData,\r\n      typeInput: 'new',\r\n      errorType: false,\r\n      errors: '',\r\n      updatedId: '',\r\n      x: null,\r\n      y: 'top'\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    getData() {\r\n      if (localStorage.getItem('id_pegawai') != null) {\r\n        if(localStorage.getItem('role') == \"OWNER\"){\r\n          this.$router.push({ path: \"/dashboardAdmin\"});\r\n        }else if(localStorage.getItem('role') == \"CS\"){\r\n          this.$router.push({ path: \"/dashboardPegawai\"});\r\n        }\r\n        else if(localStorage.getItem('role') == \"KASIR\"){\r\n          this.$router.push({ path: \"/dashboardKasir\"});\r\n        }\r\n      } else {\r\n        localStorage.setItem(\"masuk\", 'false');\r\n        console.log(localStorage.getItem('masuk'));\r\n        this.snackbar = true;\r\n        this.text = \"Welcome\";\r\n        this.color = 'blue';\r\n        this.load = false;\r\n      }\r\n    },\r\n\r\n    signIn() {\r\n        \r\n        var url = this.$apiUrl + \"/login\";\r\n        this.login = new FormData();\r\n        this.login.append(\"username\", this.form.username);\r\n        this.login.append(\"password\", this.form.password);\r\n        this.$http.post(url, this.login).then(response => {\r\n          this.messageType = response.data.message;\r\n          console.log(this.messageType);\r\n          if (this.messageType.status == false) {\r\n            this.snackbar = true;\r\n            this.text = response.data.message;\r\n            this.color = 'red';\r\n            this.load = false;\r\n            this.resetForm();\r\n          } else {\r\n            \r\n            //\r\n            if(response.data.message == \"OWNER\"){\r\n              this.snackbar = true;\r\n              this.color = 'green';\r\n              this.text = response.data.message;\r\n              this.load = false;\r\n              this.resetForm();\r\n              localStorage.setItem(\"id_pegawai\", response.data.data[0].id_pegawai);\r\n              localStorage.setItem(\"role\", response.data.data[0].role);\r\n              localStorage.setItem(\"masuk\", 'true');\r\n              \r\n              // this.$session.set('id_pegawai', response.data.id_pegawai);\r\n              // console.log(response.data.data.id_pegawai);\r\n              // console.log(this.$session.get('id_pegawai'));\r\n\r\n              this.$router.replace({ path : '/dashboardAdmin' });              \r\n              // this.$router.push({\r\n              //   path: \"/dashboardAdmin\"\r\n              // });\r\n            }else if(response.data.message == \"CS\"){\r\n              this.snackbar = true;\r\n              this.color = 'green';\r\n              this.text = response.data.message;\r\n              this.load = false;\r\n              this.resetForm();\r\n              console.log(response.data.data);\r\n              localStorage.setItem(\"id_pegawai\", response.data.data[0].id_pegawai);\r\n              localStorage.setItem(\"role\", response.data.data[0].role);\r\n              localStorage.setItem(\"masuk\", 'true');\r\n              console.log(localStorage.getItem(\"id_pegawai\"));\r\n\r\n              \r\n              // this.$session.set('id_pegawai', response.data.id_pegawai);\r\n              // console.log(response.data.data);\r\n              // console.log(this.$session.get('id_pegawai'));\r\n\r\n              this.$router.push({\r\n                path: \"/dashboardPegawai\"\r\n              });\r\n            }else if(response.data.message == \"KASIR\"){\r\n              this.snackbar = true;\r\n              this.color = 'green';\r\n              this.text = response.data.message;\r\n              this.load = false;\r\n              this.resetForm();\r\n              console.log(response.data.data);\r\n              localStorage.setItem(\"id_pegawai\", response.data.data[0].id_pegawai);\r\n              localStorage.setItem(\"role\", response.data.data[0].role);\r\n              localStorage.setItem(\"masuk\", 'true');\r\n              console.log(localStorage.getItem(\"id_pegawai\"));\r\n\r\n              \r\n              // this.$session.set('id_pegawai', response.data.id_pegawai);\r\n              // console.log(response.data.data);\r\n              // console.log(this.$session.get('id_pegawai'));\r\n\r\n              this.$router.replace({ path : '/dashboardKasir' });              \r\n              \r\n            }\r\n            \r\n          }\r\n        }).catch(error => {\r\n          this.errors = error;\r\n          this.snackbar = true;\r\n          this.text = error;\r\n          this.color = 'red';\r\n          this.load = false;\r\n        });\r\n    },\r\n\r\n    resetForm() {\r\n      this.form = {\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        phoneNumber: '',\r\n        address: '',\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted(){\r\n    this.getData();\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n  .v-btn {\r\n    width: 100%;\r\n  }\r\n  .v-toolbar {\r\n    background-color: #D68945;\r\n    color: white;\r\n  }\r\n\r\n</style>"]}]}