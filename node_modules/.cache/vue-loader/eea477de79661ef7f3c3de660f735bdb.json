{"remainingRequest":"G:\\SEMESTER6\\P3L\\FrontEnd\\P3L_Vuetify\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\SEMESTER6\\P3L\\FrontEnd\\P3L_Vuetify\\src\\components\\homePageContents\\signDual.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\SEMESTER6\\P3L\\FrontEnd\\P3L_Vuetify\\src\\components\\homePageContents\\signDual.vue","mtime":1586260871642},{"path":"G:\\SEMESTER6\\P3L\\FrontEnd\\P3L_Vuetify\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\SEMESTER6\\P3L\\FrontEnd\\P3L_Vuetify\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\SEMESTER6\\P3L\\FrontEnd\\P3L_Vuetify\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1564062718000},{"path":"G:\\SEMESTER6\\P3L\\FrontEnd\\P3L_Vuetify\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\SEMESTER6\\P3L\\FrontEnd\\P3L_Vuetify\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHNpZ25VcDogZmFsc2UsDQogICAgICBmb3JtOiB7DQogICAgICAgIHVzZXJuYW1lOiAnJywNCiAgICAgICAgcGFzc3dvcmQ6ICcnLA0KICAgICAgICANCiAgICAgIH0sDQogICAgICBtYXN1azogZmFsc2UsDQogICAgICBsb2dpbnM6IFtdLA0KICAgICAgZGF0YTogew0KICAgICAgICBpZF9wZWdhd2FpOiAnJywNCiAgICAgICAgcm9sZTogJycgICANCiAgICAgIH0sDQogICAgICBzbmFja2JhcjogZmFsc2UsDQogICAgICBjb2xvcjogbnVsbCwNCiAgICAgIHRleHQ6ICcnLA0KICAgICAgbG9hZDogZmFsc2UsDQogICAgICBsb2dpbjogbmV3IEZvcm1EYXRhLA0KICAgICAgdHlwZUlucHV0OiAnbmV3JywNCiAgICAgIGVycm9yVHlwZTogZmFsc2UsDQogICAgICBlcnJvcnM6ICcnLA0KICAgICAgdXBkYXRlZElkOiAnJywNCiAgICAgIHg6IG51bGwsDQogICAgICB5OiAndG9wJw0KICAgIH0NCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgZ2V0RGF0YSgpIHsNCiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWRfcGVnYXdhaScpICE9IG51bGwpIHsNCiAgICAgICAgaWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3JvbGUnKSA9PSAiT1dORVIiKXsNCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICIvZGFzaGJvYXJkQWRtaW4ifSk7DQogICAgICAgIH1lbHNlIGlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyb2xlJykgPT0gIkNTIil7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL2Rhc2hib2FyZFBlZ2F3YWkifSk7DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJtYXN1ayIsICdmYWxzZScpOw0KICAgICAgICBjb25zb2xlLmxvZyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbWFzdWsnKSk7DQogICAgICAgIHRoaXMuc25hY2tiYXIgPSB0cnVlOw0KICAgICAgICB0aGlzLnRleHQgPSAiV2VsY29tZSI7DQogICAgICAgIHRoaXMuY29sb3IgPSAnYmx1ZSc7DQogICAgICAgIHRoaXMubG9hZCA9IGZhbHNlOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBzaWduSW4oKSB7DQogICAgICAgIA0KICAgICAgICB2YXIgdXJsID0gdGhpcy4kYXBpVXJsICsgIi9sb2dpbiI7DQogICAgICAgIHRoaXMubG9naW4gPSBuZXcgRm9ybURhdGEoKTsNCiAgICAgICAgdGhpcy5sb2dpbi5hcHBlbmQoInVzZXJuYW1lIiwgdGhpcy5mb3JtLnVzZXJuYW1lKTsNCiAgICAgICAgdGhpcy5sb2dpbi5hcHBlbmQoInBhc3N3b3JkIiwgdGhpcy5mb3JtLnBhc3N3b3JkKTsNCiAgICAgICAgdGhpcy4kaHR0cC5wb3N0KHVybCwgdGhpcy5sb2dpbikudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgdGhpcy5tZXNzYWdlVHlwZSA9IHJlc3BvbnNlLmRhdGEubWVzc2FnZTsNCiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm1lc3NhZ2VUeXBlKTsNCiAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlVHlwZS5zdGF0dXMgPT0gZmFsc2UpIHsNCiAgICAgICAgICAgIHRoaXMuc25hY2tiYXIgPSB0cnVlOw0KICAgICAgICAgICAgdGhpcy50ZXh0ID0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlOw0KICAgICAgICAgICAgdGhpcy5jb2xvciA9ICdyZWQnOw0KICAgICAgICAgICAgdGhpcy5sb2FkID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLnJlc2V0Rm9ybSgpOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vDQogICAgICAgICAgICBpZihyZXNwb25zZS5kYXRhLm1lc3NhZ2UgPT0gIk9XTkVSIil7DQogICAgICAgICAgICAgIHRoaXMuc25hY2tiYXIgPSB0cnVlOw0KICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gJ2dyZWVuJzsNCiAgICAgICAgICAgICAgdGhpcy50ZXh0ID0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlOw0KICAgICAgICAgICAgICB0aGlzLmxvYWQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgdGhpcy5yZXNldEZvcm0oKTsNCiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlkX3BlZ2F3YWkiLCByZXNwb25zZS5kYXRhLmRhdGFbMF0uaWRfcGVnYXdhaSk7DQogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJyb2xlIiwgcmVzcG9uc2UuZGF0YS5kYXRhWzBdLnJvbGUpOw0KICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgibWFzdWsiLCB0cnVlKTsNCiAgICAgICAgICAgICAgDQogICAgICAgICAgICAgIC8vIHRoaXMuJHNlc3Npb24uc2V0KCdpZF9wZWdhd2FpJywgcmVzcG9uc2UuZGF0YS5pZF9wZWdhd2FpKTsNCiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5kYXRhLmlkX3BlZ2F3YWkpOw0KICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRzZXNzaW9uLmdldCgnaWRfcGVnYXdhaScpKTsNCg0KICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IHBhdGggOiAnL2Rhc2hib2FyZEFkbWluJyB9KTsgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAvLyB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgICAgICAgIC8vICAgcGF0aDogIi9kYXNoYm9hcmRBZG1pbiINCiAgICAgICAgICAgICAgLy8gfSk7DQogICAgICAgICAgICB9ZWxzZSBpZihyZXNwb25zZS5kYXRhLm1lc3NhZ2UgPT0gIkNTIil7DQogICAgICAgICAgICAgIHRoaXMuc25hY2tiYXIgPSB0cnVlOw0KICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gJ2dyZWVuJzsNCiAgICAgICAgICAgICAgdGhpcy50ZXh0ID0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlOw0KICAgICAgICAgICAgICB0aGlzLmxvYWQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgdGhpcy5yZXNldEZvcm0oKTsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5kYXRhKTsNCiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlkX3BlZ2F3YWkiLCByZXNwb25zZS5kYXRhLmRhdGFbMF0uaWRfcGVnYXdhaSk7DQogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJyb2xlIiwgcmVzcG9uc2UuZGF0YS5kYXRhWzBdLnJvbGUpOw0KICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgibG9naW4iLCAndHJ1ZScpOw0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiaWRfcGVnYXdhaSIpKTsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2cobG9jYWxTdG9yYWdlLmdldEl0ZW0oIm1hc3VrIikpOyAgDQoNCiAgICAgICAgICAgICAgDQogICAgICAgICAgICAgIC8vIHRoaXMuJHNlc3Npb24uc2V0KCdpZF9wZWdhd2FpJywgcmVzcG9uc2UuZGF0YS5pZF9wZWdhd2FpKTsNCiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5kYXRhKTsNCiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy4kc2Vzc2lvbi5nZXQoJ2lkX3BlZ2F3YWknKSk7DQoNCiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICAgICAgICAgIHBhdGg6ICIvZGFzaGJvYXJkUGVnYXdhaSINCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICB9DQogICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9yOw0KICAgICAgICAgIHRoaXMuc25hY2tiYXIgPSB0cnVlOw0KICAgICAgICAgIHRoaXMudGV4dCA9IGVycm9yOw0KICAgICAgICAgIHRoaXMuY29sb3IgPSAncmVkJzsNCiAgICAgICAgICB0aGlzLmxvYWQgPSBmYWxzZTsNCiAgICAgICAgfSk7DQogICAgfSwNCg0KICAgIHJlc2V0Rm9ybSgpIHsNCiAgICAgIHRoaXMuZm9ybSA9IHsNCiAgICAgICAgbmFtZTogJycsDQogICAgICAgIGVtYWlsOiAnJywNCiAgICAgICAgcGFzc3dvcmQ6ICcnLA0KICAgICAgICBwaG9uZU51bWJlcjogJycsDQogICAgICAgIGFkZHJlc3M6ICcnLA0KICAgICAgfQ0KICAgIH0NCiAgfSwNCg0KICBtb3VudGVkKCl7DQogICAgdGhpcy5nZXREYXRhKCk7DQogIH0sDQp9DQo="},{"version":3,"sources":["signDual.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"signDual.vue","sourceRoot":"src/components/homePageContents","sourcesContent":["<template>\r\n  <v-app id=\"inspire\">\r\n    <v-content>\r\n      <v-container>\r\n        <v-row\r\n          align=\"center\"\r\n          justify=\"center\"\r\n        >\r\n          <v-col cols=\"12\" sm=\"8\" md=\"4\">\r\n            <v-card class=\"elevation-12\" align=\"center\">\r\n              <v-toolbar>\r\n                <v-toolbar-title align=\"center\">Login form</v-toolbar-title>\r\n              </v-toolbar>\r\n              <v-card-text>\r\n                <v-form>\r\n                  <v-text-field\r\n                    append-icon=\"mdi-account\"\r\n                    label=\"Login\"\r\n                    name=\"login\"\r\n                    type=\"text\"\r\n                    v-model=\"form.username\"\r\n                  />\r\n\r\n                  <v-text-field\r\n                    append-icon=\"mdi-lock\"\r\n                    id=\"password\"\r\n                    label=\"Password\"\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    v-model=\"form.password\"\r\n                  />\r\n                  <v-btn color=\"primary\" @click=\"signIn()\">Login</v-btn>\r\n                </v-form>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-col>\r\n        </v-row>\r\n      <v-snackbar \r\n        v-model=\"snackbar\"\r\n        :color=\"color\" \r\n        :multi-line=\"true\" \r\n        :timeout=\"6000\" \r\n        :top=\"y === 'top'\"> {{ text }} \r\n      <v-btn dark text @click=\"snackbar = false\"> Close </v-btn> \r\n    </v-snackbar> \r\n      </v-container>\r\n    </v-content>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      signUp: false,\r\n      form: {\r\n        username: '',\r\n        password: '',\r\n        \r\n      },\r\n      masuk: false,\r\n      logins: [],\r\n      data: {\r\n        id_pegawai: '',\r\n        role: ''   \r\n      },\r\n      snackbar: false,\r\n      color: null,\r\n      text: '',\r\n      load: false,\r\n      login: new FormData,\r\n      typeInput: 'new',\r\n      errorType: false,\r\n      errors: '',\r\n      updatedId: '',\r\n      x: null,\r\n      y: 'top'\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    getData() {\r\n      if (localStorage.getItem('id_pegawai') != null) {\r\n        if(localStorage.getItem('role') == \"OWNER\"){\r\n          this.$router.push({ path: \"/dashboardAdmin\"});\r\n        }else if(localStorage.getItem('role') == \"CS\"){\r\n          this.$router.push({ path: \"/dashboardPegawai\"});\r\n        }\r\n      } else {\r\n        localStorage.setItem(\"masuk\", 'false');\r\n        console.log(localStorage.getItem('masuk'));\r\n        this.snackbar = true;\r\n        this.text = \"Welcome\";\r\n        this.color = 'blue';\r\n        this.load = false;\r\n      }\r\n    },\r\n\r\n    signIn() {\r\n        \r\n        var url = this.$apiUrl + \"/login\";\r\n        this.login = new FormData();\r\n        this.login.append(\"username\", this.form.username);\r\n        this.login.append(\"password\", this.form.password);\r\n        this.$http.post(url, this.login).then(response => {\r\n          this.messageType = response.data.message;\r\n          console.log(this.messageType);\r\n          if (this.messageType.status == false) {\r\n            this.snackbar = true;\r\n            this.text = response.data.message;\r\n            this.color = 'red';\r\n            this.load = false;\r\n            this.resetForm();\r\n          } else {\r\n            \r\n            //\r\n            if(response.data.message == \"OWNER\"){\r\n              this.snackbar = true;\r\n              this.color = 'green';\r\n              this.text = response.data.message;\r\n              this.load = false;\r\n              this.resetForm();\r\n              localStorage.setItem(\"id_pegawai\", response.data.data[0].id_pegawai);\r\n              localStorage.setItem(\"role\", response.data.data[0].role);\r\n              localStorage.setItem(\"masuk\", true);\r\n              \r\n              // this.$session.set('id_pegawai', response.data.id_pegawai);\r\n              // console.log(response.data.data.id_pegawai);\r\n              // console.log(this.$session.get('id_pegawai'));\r\n\r\n              this.$router.replace({ path : '/dashboardAdmin' });              \r\n              // this.$router.push({\r\n              //   path: \"/dashboardAdmin\"\r\n              // });\r\n            }else if(response.data.message == \"CS\"){\r\n              this.snackbar = true;\r\n              this.color = 'green';\r\n              this.text = response.data.message;\r\n              this.load = false;\r\n              this.resetForm();\r\n              console.log(response.data.data);\r\n              localStorage.setItem(\"id_pegawai\", response.data.data[0].id_pegawai);\r\n              localStorage.setItem(\"role\", response.data.data[0].role);\r\n              localStorage.setItem(\"login\", 'true');\r\n              console.log(localStorage.getItem(\"id_pegawai\"));\r\n              console.log(localStorage.getItem(\"masuk\"));  \r\n\r\n              \r\n              // this.$session.set('id_pegawai', response.data.id_pegawai);\r\n              // console.log(response.data.data);\r\n              // console.log(this.$session.get('id_pegawai'));\r\n\r\n              this.$router.push({\r\n                path: \"/dashboardPegawai\"\r\n              });\r\n            }\r\n            \r\n          }\r\n        }).catch(error => {\r\n          this.errors = error;\r\n          this.snackbar = true;\r\n          this.text = error;\r\n          this.color = 'red';\r\n          this.load = false;\r\n        });\r\n    },\r\n\r\n    resetForm() {\r\n      this.form = {\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        phoneNumber: '',\r\n        address: '',\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted(){\r\n    this.getData();\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n  .v-btn {\r\n    width: 100%;\r\n  }\r\n  .v-toolbar {\r\n    background-color: #B7472A;\r\n    color: white;\r\n  }\r\n\r\n</style>"]}]}